# é—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼ŒGAï¼‰

## ç›®å½•

- [GAç®—æ³•åŸç†](#GAç®—æ³•åŸç†)
- [å¸¸ç”¨æœ¯è¯­](#å¸¸ç”¨æœ¯è¯­)
- [é—ä¼ ç®—æ³•åŸºæœ¬è¿‡ç¨‹ä»‹ç»](#é—ä¼ ç®—æ³•åŸºæœ¬è¿‡ç¨‹ä»‹ç»)
- [é—ä¼ ç®—æ³•çš„æ­¥éª¤](#é—ä¼ ç®—æ³•çš„æ­¥éª¤)
  - [æŸ“è‰²ä½“ç¼–ç ](#æŸ“è‰²ä½“ç¼–ç )
    - [ç¼–ç ](#ç¼–ç )
    - [è§£ç ](#è§£ç )
  - [åˆå§‹ç¾¤ä½“çš„ç”Ÿæˆ](#åˆå§‹ç¾¤ä½“çš„ç”Ÿæˆ)
  - [é€‚åº”åº¦å€¼è¯„ä¼°æ£€æµ‹](#é€‚åº”åº¦å€¼è¯„ä¼°æ£€æµ‹)
    - [çº¿æ€§å°ºåº¦å˜æ¢](#çº¿æ€§å°ºåº¦å˜æ¢)
    - [ä¹˜å¹‚å°ºåº¦å˜æ¢](#ä¹˜å¹‚å°ºåº¦å˜æ¢)
    - [æŒ‡æ•°å°ºåº¦å˜æ¢](#æŒ‡æ•°å°ºåº¦å˜æ¢)
  - [é—ä¼ ç®—å­](#é—ä¼ ç®—å­)
    - [é€‰æ‹©](#é€‰æ‹©)
    - [äº¤å‰](#äº¤å‰)
    - [å˜å¼‚](#å˜å¼‚)
  - [ç»ˆæ­¢åˆ¤æ–­æ¡ä»¶](#ç»ˆæ­¢åˆ¤æ–­æ¡ä»¶)
- [fitnessæ–¹ç¨‹](#fitnessæ–¹ç¨‹)
- [DNA ç¼–ç ](#DNA-ç¼–ç )
- [F(x)](#Fx)
- [è¿›åŒ–](#è¿›åŒ–)
- [å®Œæ•´ä»£ç ](#å®Œæ•´ä»£ç )
- [æœ€ç»ˆç»“æœ](#æœ€ç»ˆç»“æœ)

é—ä¼ ç®—æ³•æ˜¯è¿›åŒ–ç®—æ³•çš„ä¸€ä¸ªåˆ†æ”¯. å®ƒå°†è¾¾å°”æ–‡çš„è¿›åŒ–ç†è®ºæ¬è¿›äº†è®¡ç®—æœº.

## **GAç®—æ³•åŸç†**

é¦–å…ˆæˆ‘ä»¬æ¥ä»‹ç»è¿›åŒ–ç®—æ³•çš„å…ˆé©±é—ä¼ ç®—æ³•ï¼Œé—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼Œç®€ç§°GAï¼‰æ˜¯ä¸€ç§æœ€åŸºæœ¬çš„è¿›åŒ–ç®—æ³•ï¼Œå®ƒæ˜¯æ¨¡æ‹Ÿè¾¾å°”æ–‡ç”Ÿç‰©è¿›åŒ–ç†è®ºçš„ä¸€ç§ä¼˜åŒ–æ¨¡å‹ï¼Œæœ€æ—©ç”±J.Hollandæ•™æˆäº1975å¹´æå‡ºã€‚**é—ä¼ ç®—æ³•ä¸­ç§ç¾¤åˆ†æ¯ä¸ªä¸ªä½“éƒ½æ˜¯è§£ç©ºé—´ä¸Šçš„ä¸€ä¸ªå¯è¡Œè§£ï¼Œé€šè¿‡æ¨¡æ‹Ÿç”Ÿç‰©çš„è¿›åŒ–è¿‡ç¨‹ï¼Œè¿›è¡Œé—ä¼ ã€å˜å¼‚ã€äº¤å‰ã€å¤åˆ¶ä»è€Œåœ¨è§£ç©ºé—´å†…æœç´¢æœ€ä¼˜è§£ã€‚**

## å¸¸ç”¨æœ¯è¯­

ç”±äºé—ä¼ ç®—æ³•æ˜¯ç”±è¿›åŒ–è®ºå’Œé—ä¼ å­¦æœºç†è€Œäº§ç”Ÿçš„æœç´¢ç®—æ³•ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªç®—æ³•ä¸­ä¼šç”¨åˆ°ä¸€äº›ç”Ÿç‰©é—ä¼ å­¦çŸ¥è¯†ï¼Œä¸‹é¢æ˜¯æˆ‘ä»¬å°†ä¼šç”¨ä¸€äº›æœ¯è¯­ï¼š

**â‘  æŸ“è‰²ä½“(Chromosome)ï¼š** æŸ“è‰²ä½“åˆå¯ç§°ä¸ºåŸºå› å‹ä¸ªä½“(individuals)ï¼Œä¸€å®šæ•°é‡çš„ä¸ªä½“ç»„æˆäº†ç¾¤ä½“(population)ï¼Œç¾¤ä½“ä¸­ä¸ªä½“çš„æ•°é‡å«åšç¾¤ä½“å¤§å°ï¼ˆpopulation sizeï¼‰ã€‚

**â‘¡ ä½ä¸²(Bit String)ï¼š** ä¸ªä½“çš„è¡¨ç¤ºå½¢å¼ã€‚å¯¹åº”äºé—ä¼ å­¦ä¸­çš„æŸ“è‰²ä½“ã€‚

**â‘¢ åŸºå› (Gene)ï¼š**åŸºå› æ˜¯æŸ“è‰²ä½“ä¸­çš„å…ƒç´ ï¼Œç”¨äºè¡¨ç¤ºä¸ªä½“çš„ç‰¹å¾ã€‚ä¾‹å¦‚**æœ‰ä¸€ä¸ªä¸²ï¼ˆå³æŸ“è‰²ä½“ï¼‰S=1011ï¼Œåˆ™å…¶ä¸­çš„1ï¼Œ0ï¼Œ1ï¼Œ1è¿™4ä¸ªå…ƒç´ åˆ†åˆ«ç§°ä¸ºåŸºå› **ã€‚

**â‘£ ç‰¹å¾å€¼( Feature)ï¼š** åœ¨ç”¨ä¸²è¡¨ç¤ºæ•´æ•°æ—¶ï¼ŒåŸºå› çš„ç‰¹å¾å€¼ä¸äºŒè¿›åˆ¶æ•°çš„æƒä¸€è‡´ï¼›**ä¾‹å¦‚åœ¨ä¸² S=1011 ä¸­ï¼ŒåŸºå› ä½ç½®3ä¸­çš„1ï¼Œå®ƒçš„åŸºå› ç‰¹å¾å€¼ä¸º2ï¼›åŸºå› ä½ç½®1ä¸­çš„1ï¼Œå®ƒçš„åŸºå› ç‰¹å¾å€¼ä¸º8**ã€‚

**â‘¤ é€‚åº”åº¦(Fitness)ï¼šå„ä¸ªä¸ªä½“å¯¹ç¯å¢ƒçš„é€‚åº”ç¨‹åº¦å«åšé€‚åº”åº¦(fitness)**ã€‚ä¸ºäº†ä½“ç°æŸ“è‰²ä½“çš„é€‚åº”èƒ½åŠ›ï¼Œå¼•å…¥äº†å¯¹é—®é¢˜ä¸­çš„æ¯ä¸€ä¸ªæŸ“è‰²ä½“éƒ½èƒ½è¿›è¡Œåº¦é‡çš„å‡½æ•°ï¼Œå«é€‚åº”åº¦å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°é€šå¸¸ä¼šè¢«**ç”¨æ¥è®¡ç®—ä¸ªä½“åœ¨ç¾¤ä½“ä¸­è¢«ä½¿ç”¨çš„æ¦‚ç‡**ã€‚

**â‘¥ åŸºå› å‹(Genotype)ï¼š**æˆ–ç§°é—ä¼ å‹ï¼Œæ˜¯æŒ‡åŸºå› ç»„å®šä¹‰é—ä¼ ç‰¹å¾å’Œè¡¨ç°ã€‚å¯¹äºäºGAä¸­çš„**ä½ä¸²**ã€‚

**â‘¦ è¡¨ç°å‹(Phenotype)ï¼š**ç”Ÿç‰©ä½“çš„åŸºå› å‹åœ¨ç‰¹å®šç¯å¢ƒä¸‹çš„è¡¨ç°ç‰¹å¾ã€‚å¯¹åº”äºGAä¸­çš„**ä½ä¸²è§£ç åçš„å‚æ•°**ã€‚

> ğŸ“Œ**ç”¨ä¸€å¥è¯æ¦‚æ‹¬é—ä¼ ç®—æ³•: â€œåœ¨ç¨‹åºé‡Œç”Ÿå®å®, æ€æ­»ä¸ä¹–çš„å®å®, è®©ä¹–å®å®ç»§ç»­ç”Ÿå®å®â€.**

æˆ‘ä»¬çš„ â€œä¹–å®å®â€ å°±æ˜¯å›¾ä¸­æ›´é«˜çš„ç‚¹, ç”¨é—ä¼ ç®—æ³•, æˆ‘ä»¬å°±èƒ½è½»æ¾æ‰¾åˆ° â€œæœ€ä¹–çš„å®å®â€.

![](https://yulizi123.github.io/static/results/evolutionary-algorithm/2-1-0.gif)

## **é—ä¼ ç®—æ³•åŸºæœ¬è¿‡ç¨‹ä»‹ç»**

åŸºæœ¬é—ä¼ ç®—æ³•(ä¹Ÿç§°æ ‡å‡†é—ä¼ ç®—æ³•æˆ–ç®€å•é—ä¼ ç®—æ³•ï¼ŒSimple Genetic Algorithmï¼Œç®€ç§°SGA)æ˜¯ä¸€ç§**ç¾¤ä½“å‹æ“ä½œ**ï¼Œè¯¥æ“ä½œä»¥ç¾¤ä½“ä¸­çš„æ‰€æœ‰ä¸ªä½“ä¸ºå¯¹è±¡

åªä½¿ç”¨åŸºæœ¬é—ä¼ ç®—å­(Genetic Operator)ï¼š

- **é€‰æ‹©ç®—å­(Selection Operator)**
- **äº¤å‰ç®—å­(Crossover Operator)**
- **å˜å¼‚ç®—å­(Mutation Operator)**

å…¶é—ä¼ è¿›åŒ–æ“ä½œè¿‡ç¨‹ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œæ˜¯å…¶å®ƒä¸€äº›é—ä¼ ç®—æ³•çš„åŸºç¡€ï¼Œå®ƒä¸ä»…ç»™å„ç§é—ä¼ ç®—æ³•æä¾›äº†ä¸€ä¸ªåŸºæœ¬æ¡†æ¶ï¼ŒåŒæ—¶ä¹Ÿå…·æœ‰ä¸€å®šçš„åº”ç”¨ä»·å€¼ã€‚**é€‰æ‹©**ã€**äº¤å‰**å’Œ**å˜å¼‚**æ˜¯é—ä¼ ç®—æ³•çš„3ä¸ªä¸»è¦æ“ä½œç®—å­ï¼Œå®ƒä»¬**æ„æˆäº†é—ä¼ æ“ä½œ**ï¼Œä½¿é—ä¼ ç®—æ³•å…·æœ‰äº†å…¶å®ƒæ–¹æ³•æ²¡æœ‰çš„ç‰¹ç‚¹ã€‚

å…¶è¡¨ç¤ºæ–¹æ³•å¦‚ä¸‹ï¼š

$$
S G A=\left(C, E, P_{0}, M, \phi, \Gamma,  \psi, T\right)
$$

å…¶ä¸­ï¼Œ

&#x20;$C$è¡¨ç¤ºä¸ªä½“çš„ç¼–ç æ–¹æ¡ˆ

$E$ è¡¨ç¤ºä¸ªä½“é€‚åº”åº¦è¯„ä»·å‡½æ•°

$P_{0}$ è¡¨ç¤ºåˆå§‹ç§ç¾¤

$M$è¡¨ç¤ºç§ç¾¤å¤§å°

$\phi$ è¡¨ç¤ºé€‰æ‹©ç®—å­

$Î“$ è¡¨ç¤ºäº¤å‰ç®—å­

$\psi$è¡¨ç¤ºå˜å¼‚ç®—å­

$T$ è¡¨ç¤ºé—ä¼ ç®—æ³•ç»ˆæ­¢æ¡ä»¶

## **é—ä¼ ç®—æ³•çš„æ­¥éª¤**

### æŸ“è‰²ä½“ç¼–ç 

#### ç¼–ç 

è§£ç©ºé—´ä¸­çš„è§£åœ¨é—ä¼ ç®—æ³•ä¸­çš„è¡¨ç¤ºå½¢å¼ã€‚ä»é—®é¢˜çš„è§£(solution)åˆ°åŸºå› å‹çš„æ˜ å°„ç§°ä¸ºç¼–ç ï¼Œ**å³æŠŠä¸€ä¸ªé—®é¢˜çš„å¯è¡Œè§£ä»å…¶è§£ç©ºé—´è½¬æ¢åˆ°é—ä¼ ç®—æ³•çš„æœç´¢ç©ºé—´çš„è½¬æ¢æ–¹æ³•**ã€‚é—ä¼ ç®—æ³•åœ¨è¿›è¡Œæœç´¢ä¹‹å‰å…ˆå°†è§£ç©ºé—´çš„è§£è¡¨ç¤ºæˆé—ä¼ ç®—æ³•çš„åŸºå› å‹ä¸²(ä¹Ÿå°±æ˜¯æŸ“è‰²ä½“)ç»“æ„æ•°æ®ï¼Œè¿™äº›ä¸²ç»“æ„æ•°æ®çš„ä¸åŒç»„åˆå°±æ„æˆäº†ä¸åŒçš„ç‚¹ã€‚

å¸¸è§çš„ç¼–ç æ–¹æ³•æœ‰**äºŒè¿›åˆ¶ç¼–ç **ã€**æ ¼é›·ç ç¼–ç **ã€ **æµ®ç‚¹æ•°ç¼–ç **ã€**å„å‚æ•°çº§è”ç¼–ç **ã€**å¤šå‚æ•°äº¤å‰ç¼–ç **ç­‰ã€‚

äºŒè¿›åˆ¶ç¼–ç ï¼šå³ç»„æˆæŸ“è‰²ä½“çš„åŸºå› åºåˆ—æ˜¯ç”±äºŒè¿›åˆ¶æ•°è¡¨ç¤ºï¼Œå…·æœ‰ç¼–ç è§£ç ç®€å•æ˜“ç”¨ï¼Œäº¤å‰å˜å¼‚æ˜“äºç¨‹åºå®ç°ç­‰ç‰¹ç‚¹ã€‚

æ ¼é›·ç¼–ç ï¼šä¸¤ä¸ªç›¸é‚»çš„æ•°ç”¨æ ¼é›·ç è¡¨ç¤ºï¼Œå…¶å¯¹åº”çš„ç ä½åªæœ‰ä¸€ä¸ªä¸ç›¸åŒï¼Œä»è€Œå¯ä»¥æé«˜ç®—æ³•çš„å±€éƒ¨æœç´¢èƒ½åŠ›ã€‚è¿™æ˜¯æ ¼é›·ç ç›¸æ¯”äºŒè¿›åˆ¶ç è€Œè¨€æ‰€å…·å¤‡çš„ä¼˜åŠ¿ã€‚

æµ®ç‚¹æ•°ç¼–ç ï¼šæ˜¯æŒ‡å°†ä¸ªä½“èŒƒå›´æ˜ å°„åˆ°å¯¹åº”æµ®ç‚¹æ•°åŒºé—´èŒƒå›´ï¼Œç²¾åº¦å¯ä»¥éšæµ®ç‚¹æ•°åŒºé—´å¤§å°è€Œæ”¹å˜ã€‚

è®¾æŸä¸€å‚æ•°çš„å–å€¼èŒƒå›´ä¸º $\left[U_{1}, U_{2}\right]$ï¼Œæˆ‘ä»¬ç”¨é•¿åº¦ä¸º$k$çš„äºŒè¿›åˆ¶ç¼–ç ç¬¦å·æ¥è¡¨ç¤ºè¯¥å‚æ•°ï¼Œåˆ™å®ƒæ€»å…±äº§ç”Ÿ$2^{k}$ç§ä¸åŒçš„ç¼–ç ï¼Œå¯ä½¿å‚æ•°ç¼–ç æ—¶çš„å¯¹åº”å…³ç³»ï¼š

$$
\begin{array}{l}000000 \cdots 0000=0 \rightarrow U_{1} \\ 000000 \cdots 0001=1 \rightarrow U_{1}+\delta \\ 000000 \cdots 0010=2 \rightarrow U_{1}+2 \delta \\ \vdots \\ 111111 \cdots 1111=2^{k} \cdots 1^{k} \rightarrow U_{2} \end{array}
$$

å…¶ä¸­ï¼Œ$\delta=\frac{U_{2}-U_{1}}{2^{k}-1}$

#### è§£ç 

**é—ä¼ ç®—æ³•æŸ“è‰²ä½“å‘é—®é¢˜è§£çš„è½¬æ¢**ã€‚å‡è®¾æŸä¸€ä¸ªä½“çš„ç¼–ç ï¼Œåˆ™å¯¹åº”çš„è§£ç å…¬å¼ä¸º

$$
X=U_{1}+\left(\sum_{i=1}^{k} b_{i} \cdot 2^{i-1}\right) \cdot \frac{U_{2}-U_{1}}{2^{k}-1}
$$

è®¾æœ‰å‚æ•° $X \in[2,4]$ï¼Œç°ç”¨5ä½äºŒè¿›åˆ¶ç¼–ç å¯¹Xè¿›è¡Œç¼–ç ï¼Œå¾— $2^{5}=32$ä¸ªäºŒè¿›åˆ¶ä¸²ï¼ˆæŸ“è‰²ä½“ï¼‰

$$
\begin{array}{l}00000,00001,00010,00011,00100,00101,00110,00111 \\ 01000,01001,01010,01011,01100,01101,01110,01111 \\ 10000,10001,10010,10011,10100,10101,10110,10111 \\ 11000,11001,11010,11011,11100,11101,11110,11111\end{array}
$$

å¯¹äºä»»ä¸€ä¸ªäºŒè¿›åˆ¶ä¸­ï¼Œåªè¦å¸¦å…¥ä¸Šé¢å…¬å¼ï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„è§£ç ï¼Œå¦‚ $x_{22}=10101$
å®ƒå¯¹åº”çš„åè¿›åˆ¶ä¸º

$$
\sum_{i=1}^{5} b_{i} \cdot 2^{i-1}=1+0 \times 2+1 \times 2^{2}+0 \times 2^{3}+1 \times 2^{4}=21
$$

åˆ™å¯¹åº”å‚æ•°Xçš„å€¼ä¸º

$$
2+21 \times \frac{4-2}{2^{k}-1}=3.3548,
$$

### **åˆå§‹ç¾¤ä½“çš„ç”Ÿæˆ**

è®¾ç½®æœ€å¤§è¿›åŒ–ä»£æ•° $ T  $ï¼Œç¾¤ä½“å¤§å° $ M  $ï¼Œäº¤å‰æ¦‚ç‡ $P_{c}$ ï¼Œå˜å¼‚æ¦‚ç‡ $P_{m}$ ï¼Œéšæœºç”Ÿæˆ $ M  $ä¸ªä¸ªä½“ä½œä¸ºåˆå§‹åŒ–ç¾¤ä½“$  P_{0} $ ã€‚

### é€‚åº”åº¦å€¼è¯„ä¼°æ£€æµ‹

**é€‚åº”åº¦å‡½æ•°è¡¨æ˜ä¸ªä½“æˆ–è§£çš„ä¼˜åŠ£æ€§**ã€‚å¯¹äºä¸åŒçš„é—®é¢˜ï¼Œé€‚åº”åº¦å‡½æ•°çš„å®šä¹‰æ–¹å¼ä¸åŒã€‚**æ ¹æ®å…·ä½“é—®é¢˜ï¼Œè®¡ç®—ç¾¤ä½“P(t)ä¸­å„ä¸ªä¸ªä½“çš„é€‚åº”åº¦**ã€‚

**é€‚åº”åº¦å°ºåº¦å˜æ¢****ï¼š** ä¸€èˆ¬æ¥è®²ï¼Œæ˜¯æŒ‡ç®—æ³•è¿­ä»£çš„ä¸åŒé˜¶æ®µï¼Œèƒ½å¤Ÿé€šè¿‡é€‚å½“æ”¹å˜ä¸ªä½“çš„é€‚åº”åº¦å¤§å°ï¼Œè¿›è€Œé¿å…ç¾¤ä½“é—´é€‚åº”åº¦ç›¸å½“è€Œé€ æˆçš„ç«äº‰å‡å¼±ï¼Œå¯¼è‡´ç§ç¾¤æ”¶æ•›äºå±€éƒ¨æœ€ä¼˜è§£ã€‚

å°ºåº¦å˜æ¢é€‰ç”¨çš„ç»å…¸æ–¹æ³•ï¼š**çº¿æ€§å°ºåº¦å˜æ¢**ã€**ä¹˜å¹‚å°ºåº¦å˜æ¢**ä»¥åŠ**æŒ‡æ•°å°ºåº¦å˜æ¢**ã€‚

#### çº¿æ€§å°ºåº¦å˜æ¢

$$
F^{\prime}=a F+b
$$

æ˜¯ç”¨ä¸€ä¸ªçº¿æ€§å‡½æ•°è¡¨ç¤ºï¼Œå…¶ä¸­aä¸ºæ¯”ä¾‹ç³»æ•°ï¼Œbä¸ºå¹³ç§»ç³»æ•°ï¼ŒFä¸ºå˜æ¢å‰é€‚åº”åº¦å°ºåº¦ï¼Œ$F^{\prime}$ä¸ºå˜æ¢åé€‚åº”åº¦å°ºåº¦ã€‚

#### ä¹˜å¹‚å°ºåº¦å˜æ¢

$$
F^{\prime}=F^{k}
$$

æ˜¯å°†åŸé€‚åº”åº¦å°ºåº¦Få–kæ¬¡å¹‚ã€‚å…¶ä¸­kä¸ºå¹‚ï¼ŒFä¸ºè½¬å˜å‰é€‚åº”åº¦å°ºåº¦ï¼Œ$F^{\prime}$ä¸ºè½¬å˜åé€‚åº”åº¦å°ºåº¦ã€‚

#### æŒ‡æ•°å°ºåº¦å˜æ¢

$$
F^{\prime}=e^{-\beta F}
$$

æ˜¯æŒ‡é¦–å…ˆå°†åŸå°ºåº¦ä¹˜ä»¥ä¸€ä¸ª$\beta$ï¼Œç„¶åå–åï¼Œå°†ä½œä¸ºè‡ªç„¶æ•°eçš„å¹‚ï¼Œå…¶ä¸­$\beta$çš„å¤§å°å†³å®šäº†é€‚åº”åº¦å°ºåº¦å˜æ¢çš„å¼ºå¼±ã€‚

### **é—ä¼ ç®—å­**

é—ä¼ ç®—æ³•ä½¿ç”¨ä»¥ä¸‹ä¸‰ç§é—ä¼ ç®—å­ï¼š

#### é€‰æ‹©

**é€‰æ‹©æ“ä½œä»æ—§ç¾¤ä½“ä¸­ä»¥ä¸€å®šæ¦‚ç‡é€‰æ‹©ä¼˜è‰¯ä¸ªä½“ç»„æˆæ–°çš„ç§ç¾¤ï¼Œä»¥ç¹æ®–å¾—åˆ°ä¸‹ä¸€ä»£ä¸ªä½“ã€‚** ä¸ªä½“è¢«é€‰ä¸­çš„æ¦‚ç‡è·Ÿé€‚åº”åº¦å€¼æœ‰å…³ï¼Œ**ä¸ªä½“é€‚åº”åº¦å€¼è¶Šé«˜ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡è¶Šå¤§**ã€‚ä»¥è½®ç›˜èµŒæ³•ä¸ºä¾‹ï¼Œè‹¥è®¾ç§ç¾¤æ•°ä¸º $M$ ï¼Œä¸ªä½“ $i$çš„é€‚åº”åº¦ä¸º $f_{i}$ï¼Œåˆ™ä¸ªä½“iè¢«é€‰å–çš„æ¦‚ç‡ä¸ºï¼š

$$
P_{i}=\frac{f_{i}}{\sum_{k=1}^{M} f_{k}}
$$

å½“ä¸ªä½“é€‰æ‹©çš„æ¦‚ç‡ç»™å®šåï¼Œ**äº§ç”Ÿ\[0,1]ä¹‹é—´å‡åŒ€éšæœºæ•°æ¥å†³å®šå“ªä¸ªä¸ªä½“å‚åŠ äº¤é…**ã€‚è‹¥ä¸ªä½“çš„é€‰æ‹©æ¦‚ç‡å¤§ï¼Œåˆ™æœ‰æœºä¼šè¢«**å¤šæ¬¡é€‰ä¸­**ï¼Œé‚£ä¹ˆå®ƒçš„é—ä¼ åŸºå› å°±ä¼šåœ¨ç§ç¾¤ä¸­æ‰©å¤§ï¼›è‹¥ä¸ªä½“çš„é€‰æ‹©æ¦‚ç‡å°ï¼Œåˆ™è¢«æ·˜æ±°çš„å¯èƒ½æ€§ä¼šå¤§ã€‚

#### äº¤å‰

**äº¤å‰æ“ä½œæ˜¯æŒ‡ä»ç§ç¾¤ä¸­éšæœºé€‰æ‹©ä¸¤ä¸ªä¸ªä½“ï¼Œé€šè¿‡ä¸¤ä¸ªæŸ“è‰²ä½“çš„äº¤æ¢ç»„åˆï¼ŒæŠŠçˆ¶ä¸²çš„ä¼˜ç§€ç‰¹å¾é—ä¼ ç»™å­ä¸²ï¼Œä»è€Œäº§ç”Ÿæ–°çš„ä¼˜ç§€ä¸ªä½“ã€‚**

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œ**ä½¿ç”¨ç‡æœ€é«˜çš„æ˜¯å•ç‚¹äº¤å‰ç®—å­**ï¼Œè¯¥ç®—å­åœ¨é…å¯¹çš„æŸ“è‰²ä½“ä¸­éšæœºçš„é€‰æ‹©ä¸€ä¸ªäº¤å‰ä½ç½®ï¼Œç„¶ååœ¨è¯¥äº¤å‰ä½ç½®å¯¹é…å¯¹çš„æŸ“è‰²ä½“è¿›è¡ŒåŸºå› ä½å˜æ¢ã€‚

1. å¯¹ç§ç¾¤ä¸ªä½“æ‰§è¡Œéšæœºé…å¯¹æ“ä½œ
2. é€ä¸€å¯¹é…å¯¹çš„æŸ“è‰²ä½“ï¼Œéšæœºè®¾ç½®ä¸€ä¸ªä½ç½®äº¤å‰ç‚¹
3. ä¾ç…§è®¾å®šçš„äº¤å‰æ¦‚ç‡Pè¿›è¡Œç›¸äº’é…å¯¹

æ³¨ï¼šå…¶ä»–äº¤å‰ç®—å­åŒ…æ‹¬ï¼š

a)**åŒç‚¹äº¤å‰æˆ–å¤šç‚¹äº¤å‰**ï¼Œå³å¯¹é…å¯¹çš„æŸ“è‰²ä½“éšæœºè®¾ç½®ä¸¤ä¸ªæˆ–è€…å¤šä¸ªäº¤å‰ç‚¹ï¼Œç„¶åè¿›è¡Œäº¤å‰è¿ç®—ï¼Œæ”¹å˜æŸ“è‰²ä½“åŸºå› åºåˆ—ã€‚

b)**å‡åŒ€äº¤å‰**ï¼Œå³é…å¯¹çš„æŸ“è‰²ä½“åŸºå› åºåˆ—ä¸Šçš„æ¯ä¸ªä½ç½®éƒ½ä»¥ç­‰æ¦‚ç‡è¿›è¡Œäº¤å‰ï¼Œä»¥æ­¤ç»„æˆæ–°çš„åŸºå› åºåˆ—ã€‚

c)**ç®—æœ¯äº¤å‰**ï¼Œæ˜¯æŒ‡é…å¯¹æŸ“è‰²ä½“ä¹‹é—´é‡‡ç”¨çº¿æ€§ç»„åˆæ–¹å¼è¿›è¡Œäº¤å‰ï¼Œæ”¹å˜æŸ“è‰²ä½“åŸºå› åºåˆ—ã€‚

![](image/image_XWni63aNZ8.png)

#### å˜å¼‚

ä¸ºäº†é˜²æ­¢é—ä¼ ç®—æ³•åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ï¼Œåœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¯¹ä¸ªä½“è¿›è¡Œå˜å¼‚ï¼Œ**åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸»è¦é‡‡ç”¨å•ç‚¹å˜å¼‚ï¼Œä¹Ÿå«****ä½å˜å¼‚****ï¼Œå³****åªéœ€è¦å¯¹åŸºå› åºåˆ—ä¸­æŸä¸€ä¸ªä½è¿›è¡Œå˜å¼‚****ï¼Œä»¥äºŒè¿›åˆ¶ç¼–ç ä¸ºä¾‹ï¼Œå³0å˜ä¸º1ï¼Œè€Œ1å˜ä¸º0**ã€‚

![](image/image_2mCiS73DTl.png)

ç¾¤ä½“ $P(t)$ç»è¿‡é€‰æ‹©ã€äº¤å‰ã€å˜å¼‚è¿ç®—åå¾—åˆ°ä¸‹ä¸€ä»£ç¾¤ä½“$P(t+1)$
&#x20;

### **ç»ˆæ­¢åˆ¤æ–­æ¡ä»¶**

è‹¥ $t \leq T$ï¼Œåˆ™ $t \leftarrow t+1$ï¼Œè½¬åˆ°æ­¥éª¤2ï¼›å¦åˆ™ä»¥è¿›åŒ–è¿‡ç¨‹ä¸­æ‰€å¾—åˆ°çš„**å…·æœ‰æœ€å¤§é€‚åº”åº¦çš„ä¸ªä½“ä½œä¸ºæœ€å¥½çš„è§£è¾“å‡º**ï¼Œç»ˆæ­¢è¿ç®—ã€‚

![](image/image_FCmREawM4g.png)

ä»é—ä¼ ç®—æ³•è¿ç®—æµç¨‹å¯ä»¥çœ‹å‡ºï¼Œè¿›åŒ–æ“ä½œè¿‡ç¨‹ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œå®ƒç»™å…¶å®ƒå„ç§é—ä¼ ç®—æ³•æä¾›äº†ä¸€ä¸ªåŸºæœ¬æ¡†æ¶ã€‚

**éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**

é—ä¼ ç®—æ³•æœ‰4ä¸ªè¿è¡Œå‚æ•°éœ€è¦**é¢„å…ˆè®¾å®š**ï¼Œå³

$M$ï¼šç§ç¾¤å¤§å°

$T$ï¼šé—ä¼ ç®—æ³•çš„ç»ˆæ­¢è¿›åŒ–ä»£æ•°

$P_{c}$ ï¼šäº¤å‰æ¦‚ç‡ï¼Œä¸€èˆ¬ä¸º0.4\~0.99

$P_{m}$ ï¼šå˜å¼‚æ¦‚ç‡ï¼Œä¸€èˆ¬å–0.001\~0.1

***

ä¸‹é¢æ˜¯é—ä¼ ç®—æ³•ä»£ç 

é¦–å…ˆè®¾ç½®äº†è¶…å‚æ•°

```python
import numpy as np
import matplotlib.pyplot as plt

DNA_SIZE = 10            # DNA length
POP_SIZE = 100           # population size
CROSS_RATE = 0.8         # mating probability (DNA crossover)
MUTATION_RATE = 0.003    # mutation probability
N_GENERATIONS = 200
X_BOUND = [0, 5]         # x upper and lower bounds
```

## fitnessæ–¹ç¨‹

åœ¨é—ä¼ ç®—æ³•ä¸­éœ€è¦ä¸€ä¸ªè¯„ä¼°å¥½åçš„æ–¹ç¨‹ï¼Œè¿™ä¸ªæ–¹ç¨‹é€šå¸¸è¢«ç§°ä¸ºfitnessï¼Œåœ¨ä¸‹é¢çš„å›¾å½¢ä¸­è¶Šé«˜çš„ç‚¹ï¼Œfitnessè¶Šé«˜

![](image/image_rBAmlsU1uX.png)

å¦‚æœè¿™ä¸ªæ›²çº¿ä¸Šä»»ä¸€ç‚¹çš„ y å€¼æ˜¯ `pred` çš„è¯, æˆ‘ä»¬çš„ fitness å°±æ˜¯ä¸‹é¢è¿™æ ·:

```python
def get_fitness(pred):
    return pred
```

## DNA ç¼–ç 

åœ¨ GA ä¸­æœ‰åŸºå› , ä¸ºäº†æ–¹ä¾¿, æˆ‘ä»¬ç›´æ¥å°±ç§°ä¸º `DNA` å§. GA ä¸­ç¬¬äºŒé‡è¦çš„å°±æ˜¯è¿™ `DNA` äº†, å¦‚ä½•ç¼–ç å’Œè§£ç  `DNA`, å°±æ˜¯ä½ ä½¿ç”¨ GA é¦–å…ˆè¦æƒ³åˆ°çš„é—®é¢˜. ä¼ ç»Ÿçš„ GA ä¸­, `DNA` æˆ‘ä»¬èƒ½ç”¨ä¸€ä¸²äºŒè¿›åˆ¶æ¥è¡¨ç¤º, æ¯”å¦‚:

```python
DNA1 = [1, 1, 0, 1, 0, 0, 1]
DNA2 = [1, 0, 1, 1, 0, 1, 1]
```

ä½†æ˜¯é•¿æˆè¿™æ ·çš„ `DNA` å¹¶ä¸å¥½ä½¿ç”¨. å¦‚æœè¦å°†å®ƒ**è§£ç **, æˆ‘ä»¬å¯ä»¥**å°†äºŒè¿›åˆ¶è½¬æ¢æˆåè¿›åˆ¶**, æ¯”å¦‚äºŒè¿›åˆ¶çš„ `11` å°±æ˜¯åè¿›åˆ¶çš„ `3`. è¿™ç§è½¬æ¢çš„æ­¥éª¤åœ¨ç¨‹åºä¸­å¾ˆå¥½æ‰§è¡Œ. ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬ä¼šéœ€è¦ç²¾ç¡®åˆ°å°æ•°, å…¶å®ä¹Ÿå¾ˆç®€å•, åªè¦å†å°†åè¿›åˆ¶çš„æ•°æµ“ç¼©ä¸€ä¸‹å°±å¥½. **æ¯”å¦‚æˆ‘æœ‰ ****`1111`**** è¿™ä¹ˆé•¿çš„ ****`DNA`****, æˆ‘ä»¬äº§ç”Ÿçš„åè¿›åˆ¶æ•°èŒƒå›´æ˜¯ \[0, 15], è€Œæˆ‘éœ€è¦çš„èŒƒå›´æ˜¯ \[-1, 1], æˆ‘ä»¬å°±å°† \[0, 15] ç¼©æ”¾åˆ° \[-1, 1] è¿™ä¸ªèŒƒå›´å°±å¥½.**

```python
def translateDNA(pop):
    return pop.dot(2 ** np.arange(DNA_SIZE)[::-1]) / float(2**DNA_SIZE-1) * X_BOUND[1]
```

æ³¨æ„, è¿™é‡Œçš„ `pop` æ˜¯ä¸€ä¸ªå‚¨å­˜äºŒè¿›åˆ¶ `DNA` çš„çŸ©é˜µ, ä»–çš„ shape æ˜¯è¿™æ · (pop\_size, DNA\_size).

1. `2 ** np.arange(DNA_SIZE)[::-1]`ï¼šç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸ºDNA\_SIZEçš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä¸º2çš„å¹‚æ¬¡æ–¹ï¼Œå¹‚æ¬¡ä»0åˆ°DNA\_SIZE-1ã€‚
2. `pop.dot(2 ** np.arange(DNA_SIZE)[::-1])`ï¼šå°†è¾“å…¥çš„DNAåºåˆ—(pop)è½¬æ¢ä¸ºå¯¹åº”çš„åè¿›åˆ¶æ•°å€¼ã€‚é€šè¿‡ç‚¹ç§¯è¿ç®—(dot)ï¼Œå°†DNAåºåˆ—ä¸ä¸Šé¢ç”Ÿæˆçš„å¹‚æ¬¡æ•°ç»„ç›¸ä¹˜ï¼Œå¹¶å°†ç»“æœè¿›è¡Œæ±‚å’Œï¼Œ**å¾—åˆ°DNAåºåˆ—å¯¹åº”çš„åè¿›åˆ¶æ•°å€¼**ã€‚
3. `/ float(2**DNA_SIZE-1)`ï¼šå°†åè¿›åˆ¶æ•°å€¼ç¼©æ”¾åˆ°\[0,1]ä¹‹é—´çš„å®æ•°èŒƒå›´å†…ã€‚ä½¿ç”¨2çš„DNA\_SIZEæ¬¡å¹‚å‡1ï¼Œ**å°†åè¿›åˆ¶æ•°å€¼æ˜ å°„åˆ°\[0, 2^DNA\_SIZE - 1]çš„æ•´æ•°èŒƒå›´å†…**ï¼Œç„¶åé™¤ä»¥è¯¥èŒƒå›´çš„**æœ€å¤§å€¼æ¥å°†å…¶ç¼©æ”¾åˆ°\[0,1]ä¹‹é—´**ã€‚
4. `* X_BOUND[1]`ï¼šå°†å®æ•°èŒƒå›´ç¼©æ”¾åˆ°æŒ‡å®šçš„èŒƒå›´\[X\_BOUND\[0], X\_BOUND\[1]]å†…ã€‚å°†\[0, 1]ä¹‹é—´çš„å®æ•°èŒƒå›´ç¼©æ”¾åˆ°\[X\_BOUND\[0], X\_BOUND\[1]]ä¹‹é—´çš„æŒ‡å®šèŒƒå›´å†…ï¼Œå…¶ä¸­\*\*X\_BOUNDæ˜¯ä¸€ä¸ªäºŒå…ƒç»„ï¼Œè¡¨ç¤ºå®æ•°èŒƒå›´çš„ä¸Šé™å’Œä¸‹é™ã€‚\*\*å› æ­¤ï¼Œè¯¥å‡½æ•°çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º(pop\_size,)çš„ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«äº†è¾“å…¥ä¸­æ¯ä¸ªäºŒè¿›åˆ¶DNAåºåˆ—æ‰€ä»£è¡¨çš„å®æ•°å€¼ã€‚

## F(x)

```python
# é€‚åº”åº¦å‡½æ•°
def fitness_function(x):
    # è®¡ç®—ç›®æ ‡å‡½æ•°å€¼
    y = x * np.sin(10 * math.pi * x) + 2.0
    # è¿”å›é€‚åº”åº¦ï¼ˆå³ç›®æ ‡å‡½æ•°å€¼ï¼‰
    return y


# é€‚åº”åº¦åˆ†æ•°
def compute_fitness(decimal_population):
    fitness_values = []
    # éå†æ¯ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œè®¡ç®—é€‚åº”åº¦å€¼å¹¶æ·»åŠ åˆ°é€‚åº”åº¦å€¼åˆ—è¡¨ä¸­
    for decimal in decimal_population:
        # è°ƒç”¨é€‚åº”åº¦å‡½æ•°ï¼Œè®¡ç®—é€‚åº”åº¦å€¼
        y = fitness_function(decimal)
        # å°†é€‚åº”åº¦å€¼æ·»åŠ åˆ°é€‚åº”åº¦å€¼åˆ—è¡¨ä¸­
        fitness_values.append(y)
    # è¿”å›é€‚åº”åº¦å€¼åˆ—è¡¨
    return fitness_values
```

è¿™æ®µPythonä»£ç å®ç°äº†ä¸€ä¸ªé—ä¼ ç®—æ³•(Genetic Algorithm)ä¸­ä½¿ç”¨çš„é€‚åº”åº¦å‡½æ•°ã€‚é€‚åº”åº¦å‡½æ•°æ˜¯é—ä¼ ç®—æ³•çš„æ ¸å¿ƒï¼Œå®ƒç”¨äºå¯¹æ¯ä¸ªä¸ªä½“è¿›è¡Œè¯„ä¼°ï¼Œä»¥ç¡®å®šå…¶é€‚åº”åº¦å€¼ã€‚è¯¥é€‚åº”åº¦å‡½æ•°çš„è¡¨è¾¾å¼ä¸ºy = x \* sin(10 \* pi \* x) + 2.0ã€‚

åœ¨é€‚åº”åº¦å‡½æ•°ä¸­ï¼Œè¾“å…¥å‚æ•°xæ˜¯ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œè¯¥å‡½æ•°è®¡ç®—å¹¶è¿”å›è¿™ä¸ªåè¿›åˆ¶æ•°å¯¹åº”çš„é€‚åº”åº¦å€¼yã€‚å…·ä½“çš„è®¡ç®—æ–¹å¼æ˜¯å°†xä¹˜ä»¥sin(10 \* pi \* x)ï¼Œç„¶ååŠ ä¸Šå¸¸æ•°2.0ã€‚å…¶ä¸­ï¼Œsinå‡½æ•°çš„å‚æ•°æ˜¯10å€çš„piä¸xçš„ä¹˜ç§¯ã€‚

æ¥ä¸‹æ¥ï¼Œåœ¨compute\_fitnesså‡½æ•°ä¸­ï¼Œé¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªç©ºåˆ—è¡¨fitness\_valuesï¼Œåœ¨éå†è¾“å…¥çš„decimal\_populationåˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªåè¿›åˆ¶æ•°æ—¶ï¼Œè°ƒç”¨é€‚åº”åº¦å‡½æ•°æ¥è®¡ç®—è¯¥åè¿›åˆ¶æ•°å¯¹åº”çš„é€‚åº”åº¦å€¼ï¼Œå¹¶å°†è¿™äº›é€‚åº”åº¦å€¼æ·»åŠ åˆ°fitness\_valuesåˆ—è¡¨ä¸­ã€‚æœ€åï¼Œè¯¥å‡½æ•°è¿”å›è¿™ä¸ªé€‚åº”åº¦å€¼åˆ—è¡¨ã€‚

æ€»ä¹‹ï¼Œè¿™æ®µPythonä»£ç å®ç°äº†ä¸€ä¸ªç®€å•çš„é€‚åº”åº¦å‡½æ•°åŠå…¶è®¡ç®—è¿‡ç¨‹ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–é—®é¢˜ä¸­çš„ç›®æ ‡å‡½æ•°ï¼Œä¾‹å¦‚æ±‚è§£æœ€å¤§åŒ–æˆ–æœ€å°åŒ–é—®é¢˜ã€‚

## è¿›åŒ–

è¿›åŒ–åˆ†ä¸‰æ­¥:

- é€‚è€…ç”Ÿå­˜ (selection)
- DNA äº¤å‰é…å¯¹ (crossover)
- DNA å˜å¼‚ (mutation)

æˆ‘ä»¬ç”¨ python çš„ä¸‰ä¸ªåŠŸèƒ½, ä¸€ä¸ªå¾ªç¯è¡¨ç¤º:

```python
# åˆå§‹åŒ–ç§ç¾¤
def generate_initial_population(population_size, num_bits):
    population = []
    for i in range(population_size):
        temporary = []
        # æŸ“è‰²ä½“æš‚å­˜å™¨
        for j in range(num_bits):
            temporary.append(random.choice([0, 1]))
            # éšæœºé€‰æ‹©ä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ˜¯0æˆ–1ï¼Œå°†å…¶æ·»åŠ åˆ°æŸ“è‰²ä½“ä¸­
        population.append(temporary)
        # å°†æŸ“è‰²ä½“æ·»åŠ åˆ°ç§ç¾¤ä¸­
    return population
```

è¿™æ®µPythonä»£ç å®ç°äº†ä¸€ä¸ªç”¨äºåˆ›å»ºåˆå§‹ç§ç¾¤(population)çš„å‡½æ•°generate\_initial\_populationã€‚åœ¨é—ä¼ ç®—æ³•ä¸­ï¼Œç§ç¾¤æ˜¯ç”±ä¸€ç»„ä¸ªä½“ç»„æˆçš„é›†åˆï¼Œæ¯ä¸ªä¸ªä½“éƒ½æœ‰è‡ªå·±çš„æŸ“è‰²ä½“(chromosome)ï¼ŒæŸ“è‰²ä½“ç”±åŸºå› (gene)ç»„æˆã€‚

å…·ä½“æ¥è¯´ï¼Œgenerate\_initial\_populationå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼špopulation\_sizeå’Œnum\_bitsã€‚å…¶ä¸­ï¼Œpopulation\_sizeæ˜¯æŒ‡ç”Ÿæˆçš„ç§ç¾¤æ•°é‡ï¼Œè€Œnum\_bitsåˆ™è¡¨ç¤ºæ¯ä¸ªæŸ“è‰²ä½“æ‰€åŒ…å«çš„åŸºå› æ•°é‡ã€‚

åœ¨å‡½æ•°å†…éƒ¨ï¼Œé€šè¿‡ä½¿ç”¨forå¾ªç¯è¿­ä»£population\_sizeæ¬¡ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„æŸ“è‰²ä½“ã€‚å…·ä½“åœ°ï¼Œå¯¹äºæ¯ä¸ªæŸ“è‰²ä½“ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªç©ºåˆ—è¡¨temporaryï¼Œç”¨äºæš‚å­˜ç”Ÿæˆçš„åŸºå› åºåˆ—ã€‚ç„¶åï¼Œä½¿ç”¨ç¬¬äºŒä¸ªforå¾ªç¯è¿­ä»£num\_bitsæ¬¡ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­éšæœºé€‰æ‹©0æˆ–1ï¼Œå¹¶å°†è¿™ä¸ªå€¼æ·»åŠ åˆ°temporaryåˆ—è¡¨ä¸­ã€‚æœ€åï¼Œå°†temporaryåˆ—è¡¨ä½œä¸ºä¸€ä¸ªæŸ“è‰²ä½“æ·»åŠ åˆ°ç§ç¾¤populationåˆ—è¡¨ä¸­ã€‚

æœ€ç»ˆï¼Œè¯¥å‡½æ•°è¿”å›ç”Ÿæˆçš„ç§ç¾¤populationä½œä¸ºè¾“å‡ºç»“æœã€‚è¿™ä¸ªç§ç¾¤å¯ä»¥è¢«ç”¨äºæ‰§è¡Œåç»­çš„é—ä¼ ç®—æ³•æ“ä½œï¼Œä¾‹å¦‚äº¤å‰(crossover)å’Œå˜å¼‚(mutation)ã€‚

é€‚è€…ç”Ÿå­˜çš„ `select()` å¾ˆç®€å•, æˆ‘ä»¬åªè¦æŒ‰ç…§é€‚åº”ç¨‹åº¦ `fitness` æ¥é€‰ `pop` ä¸­çš„ `parent` å°±å¥½. `fitness` è¶Šå¤§, è¶Šæœ‰å¯èƒ½è¢«é€‰åˆ°.

```python
# é€‰æ‹©æ“ä½œ
def selection(population, fitness_values, num_parents):
    # ä¿ç•™é€‚åº”åº¦éè´Ÿçš„ä¸ªä½“,whereè¿”å›çš„æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„
    positive_fitness_indices = np.where(np.array(fitness_values) >= 0)[0]
    # æ ¹æ®ä¸‹æ ‡æ‰¾å‡ºä¸ªä½“å’Œä»–çš„é€‚åº”åº¦å€¼
    population = [population[i] for i in positive_fitness_indices]
    fitness_values = [fitness_values[i] for i in positive_fitness_indices]

    # è®¡ç®—é€‚åº”åº¦æ€»å’Œ
    fitness_sum = sum(fitness_values)

    # è®¡ç®—æ¯ä¸ªä¸ªä½“çš„é€‰æ‹©æ¦‚ç‡ï¼Œä¸é€‚åº”åº¦åˆ†æ•°æˆæ­£æ¯”
    probabilities = [fitness_value / fitness_sum for fitness_value in fitness_values]

    # è®¡ç®—ç´¯ç§¯æ¦‚ç‡åˆ†å¸ƒ
    cumulative_probabilities = np.cumsum(probabilities)

    # é€‰æ‹©çˆ¶ä»£ä¸ªä½“
    parents = []
    for i in range(num_parents):
        # äº§ç”Ÿä¸€ä¸ª0åˆ°1ä¹‹é—´çš„éšæœºæ•°
        rand_num = np.random.uniform(low=0, high=1.0)
        # ç¡®å®šéšæœºæ•°å‡ºç°åœ¨å“ªä¸ªä¸ªä½“çš„æ¦‚ç‡åŒºåŸŸå†…
        for j in range(len(cumulative_probabilities)):
            # å½“å‰éšæœºæ•°å°äºç­‰äºç´¯ç§¯æ¦‚ç‡åˆ—è¡¨ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œå°±é€‰æ‹©è¯¥å…ƒç´ å¯¹åº”çš„ä¸ªä½“ä½œä¸ºçˆ¶ä»£
            if rand_num <= cumulative_probabilities[j]:
                parents.append(population[j])  # ç›´æ¥è¿”å›åŸºå› 
                break

    return parents
```

è¯¥Pythonä»£ç å®ç°äº†é—ä¼ ç®—æ³•ä¸­çš„é€‰æ‹©æ“ä½œ(selection)ï¼Œç”¨äºä»å½“å‰ç§ç¾¤ä¸­é€‰æ‹©å‡ºä¸€éƒ¨åˆ†ä¸ªä½“ä½œä¸ºä¸‹ä¸€ä»£çš„çˆ¶ä»£(parents)ã€‚

é¦–å…ˆï¼Œè¯¥å‡½æ•°æ ¹æ®é€‚åº”åº¦å€¼æ˜¯å¦éè´Ÿæ¥ä¿ç•™ç§ç¾¤ä¸­çš„ä¸ªä½“ã€‚å¦‚æœä¸ªä½“çš„é€‚åº”åº¦ä¸ºè´Ÿæ•°ï¼Œåˆ™åº”è¯¥ä»ç§ç¾¤ä¸­åˆ é™¤è¿™äº›ä¸ªä½“ï¼Œä»¥ä¾¿æ›´å¥½åœ°æé«˜ç§ç¾¤æ•´ä½“çš„é€‚åº”åº¦ã€‚è¿™é‡Œä½¿ç”¨np.whereå‡½æ•°å’Œæ•°ç»„ç´¢å¼•æ¥å®ç°æ­¤æ“ä½œã€‚

ç„¶åï¼Œè®¡ç®—ç§ç¾¤ä¸­æ¯ä¸ªä¸ªä½“è¢«é€‰æ‹©ä¸ºçˆ¶ä»£çš„æ¦‚ç‡ã€‚å…·ä½“æ¥è¯´ï¼Œå°†æ¯ä¸ªä¸ªä½“çš„é€‚åº”åº¦å€¼é™¤ä»¥æ€»é€‚åº”åº¦å€¼ä¹‹å’Œï¼Œå¾—åˆ°æ¯ä¸ªä¸ªä½“è¢«é€‰æ‹©çš„æ¦‚ç‡(probabilities)ã€‚è¿™é‡Œä½¿ç”¨äº†Pythonåˆ—è¡¨æ¨å¯¼å¼æ¥å®ç°æ­¤æ“ä½œã€‚

æ¥ä¸‹æ¥ï¼Œæ ¹æ®è¿™äº›æ¦‚ç‡å€¼è®¡ç®—ç´¯ç§¯æ¦‚ç‡åˆ†å¸ƒ(cumulative\_probabilities)ï¼Œä»¥ç¡®å®šæ¯ä¸ªä¸ªä½“è¢«é€‰æ‹©ä¸ºçˆ¶ä»£çš„æ¦‚ç‡åŒºåŸŸã€‚

æœ€åï¼Œä½¿ç”¨forå¾ªç¯è¿­ä»£num\_parentsæ¬¡ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­ç”Ÿæˆä¸€ä¸ª0åˆ°1ä¹‹é—´çš„éšæœºæ•°(rand\_num)ï¼Œå¹¶æ ¹æ®è¿™ä¸ªéšæœºæ•°é€‰æ‹©ä¸€ä¸ªçˆ¶ä»£ä¸ªä½“ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºæ¯ä¸ªéšæœºæ•°ï¼Œä½¿ç”¨å¦ä¸€ä¸ªforå¾ªç¯éå†cumulative\_probabilitiesåˆ—è¡¨ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå°äºç­‰äºéšæœºæ•°çš„æ¦‚ç‡å€¼ï¼Œç„¶åè¿”å›è¯¥æ¦‚ç‡å€¼å¯¹åº”çš„ä¸ªä½“(å³çˆ¶ä»£)ã€‚æœ€ç»ˆï¼Œè¯¥å‡½æ•°è¿”å›é€‰å®šçš„æ‰€æœ‰çˆ¶ä»£ä¸ªä½“ä½œä¸ºè¾“å‡ºç»“æœã€‚

æ€»ä¹‹ï¼Œè¿™ä¸ªé€‰æ‹©æ“ä½œæ˜¯é—ä¼ ç®—æ³•ä¸­ä¸€ä¸ªå…³é”®çš„æ­¥éª¤ï¼Œç”¨äºä»ç§ç¾¤ä¸­é€‰æ‹©é€‚åº”åº¦é«˜çš„ä¸ªä½“ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºè¿›åŒ–è¿‡ç¨‹ä¸­ä¸‹ä¸€ä»£çš„çˆ¶ä»£ã€‚

æ¥ä¸‹æ¥è¿›è¡Œäº¤å‰é…å¯¹. æ–¹å¼å¾ˆç®€å•. æ¯”å¦‚è¿™ä¸¤ä¸ª DNA, `Y` çš„ç‚¹æˆ‘ä»¬å– `DNA1` ä¸­çš„å…ƒç´ , `N` çš„ç‚¹å– `DNA2` ä¸­çš„. ç”Ÿæˆçš„ `DNA3` å°±æœ‰æ¥è‡ªçˆ¶æ¯çš„åŸºå› äº†.

```python
DNA1 = [1, 1, 0, 1, 0, 0, 1]
       [Y, N, Y, N, N, Y, N]
DNA2 = [1, 0, 1, 1, 0, 1, 1]

DNA3 = [1, 0, 0, 1, 0, 0, 1]
```

åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å•ç‚¹äº¤å‰

```python
# å•ç‚¹äº¤å‰æ“ä½œ
def single_point_crossover(parents, crossover_rate):
    offspring = []  # åˆå§‹åŒ–åä»£åˆ—è¡¨
    num_parents = len(parents)  # çˆ¶ä»£æ•°é‡
    num_bits = len(parents[0])  # æ¯ä¸ªçˆ¶ä»£çš„äºŒè¿›åˆ¶ç¼–ç ä½æ•°

    # å¯¹æ¯ä¸¤ä¸ªç›¸é‚»çš„çˆ¶ä»£è¿›è¡Œäº¤å‰æ“ä½œ
    for i in range(0, num_parents - 1, 2):
        parent1 = parents[i]  # ç¬¬ä¸€ä¸ªçˆ¶ä»£
        parent2 = parents[i + 1]  # ç¬¬äºŒä¸ªçˆ¶ä»£

        # éšæœºç”Ÿæˆäº¤å‰ç‚¹
        crossover_point = np.random.randint(1, num_bits)

        # æ ¹æ®äº¤å‰ç‡è¿›è¡Œäº¤å‰æ“ä½œ
        if np.random.random() < crossover_rate:
            # ç”Ÿæˆæ–°çš„åä»£
            offspring1 = parent1[:crossover_point] + parent2[crossover_point:]
            offspring2 = parent2[:crossover_point] + parent1[crossover_point:]
        else:
            # å¦‚æœä¸äº¤å‰ï¼Œåˆ™ç›´æ¥å°†çˆ¶ä»£ä½œä¸ºåä»£
            offspring1 = parent1
            offspring2 = parent2

        # å°†åä»£æ·»åŠ åˆ°åˆ—è¡¨ä¸­
        offspring.append(offspring1)
        offspring.append(offspring2)

    return offspring  # è¿”å›ç”Ÿæˆçš„åä»£åˆ—è¡¨
```

è¯¥Pythonä»£ç å®ç°äº†é—ä¼ ç®—æ³•ä¸­çš„å•ç‚¹äº¤å‰(single-point crossover)æ“ä½œï¼Œç”¨äºä»çˆ¶ä»£ä¸ªä½“ä¸­ç”Ÿæˆæ–°ä¸€ä»£åä»£(offspring)ã€‚

é¦–å…ˆï¼Œè¯¥å‡½æ•°ç¡®å®šçˆ¶ä»£çš„æ•°é‡(num\_parents)å’Œæ¯ä¸ªçˆ¶ä»£çš„äºŒè¿›åˆ¶ç¼–ç ä½æ•°(num\_bits)ã€‚ç„¶åï¼Œä½¿ç”¨forå¾ªç¯è¿­ä»£çˆ¶ä»£åˆ—è¡¨ä¸­æ¯ä¸¤ä¸ªç›¸é‚»çš„çˆ¶ä»£è¿›è¡Œäº¤å‰æ“ä½œã€‚

å¯¹äºæ¯ä¸€å¯¹çˆ¶ä»£(parent1å’Œparent2)ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªäº¤å‰ç‚¹(crossover\_point)ã€‚è¿™é‡Œä½¿ç”¨numpy.random.randintå‡½æ•°æ¥ç”Ÿæˆä¸€ä¸ªä»‹äº1å’Œnum\_bitsä¹‹é—´çš„éšæœºæ•´æ•°å€¼ã€‚

æ¥ä¸‹æ¥ï¼Œæ ¹æ®äº¤å‰ç‡(crossover\_rate)ç¡®å®šæ˜¯å¦è¿›è¡Œäº¤å‰æ“ä½œã€‚å¦‚æœéœ€è¦è¿›è¡Œäº¤å‰ï¼Œåˆ™å°†äº¤å‰ç‚¹å‰é¢çš„åŸºå› åºåˆ—ä»ç¬¬ä¸€ä¸ªçˆ¶ä»£ä¸­å–å‡ºï¼Œå°†äº¤å‰ç‚¹åé¢çš„åŸºå› åºåˆ—ä»ç¬¬äºŒä¸ªçˆ¶ä»£ä¸­å–å‡ºï¼Œå¹¶å°†å®ƒä»¬ç»„åˆèµ·æ¥å½¢æˆä¸€ä¸ªæ–°çš„åä»£(offspring1)ã€‚åŒæ—¶ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ç±»ä¼¼çš„æ–¹å¼ä»ç¬¬äºŒä¸ªçˆ¶ä»£ä¸­è·å–ç›¸åº”åŸºå› åºåˆ—ï¼Œä»¥ç”Ÿæˆå¦ä¸€ä¸ªæ–°çš„åä»£(offspring2)ã€‚å¦‚æœä¸éœ€è¦è¿›è¡Œäº¤å‰ï¼Œåˆ™ç›´æ¥å°†çˆ¶ä»£ä½œä¸ºåä»£ã€‚

æœ€åï¼Œå°†ç”Ÿæˆçš„åä»£æ·»åŠ åˆ°offspringåˆ—è¡¨ä¸­ï¼Œå¹¶è¿”å›è¿™ä¸ªåˆ—è¡¨ä½œä¸ºè¾“å‡ºç»“æœã€‚

æ€»ä¹‹ï¼Œè¿™ä¸ªå•ç‚¹äº¤å‰æ“ä½œæ˜¯é—ä¼ ç®—æ³•ä¸­éå¸¸å¸¸è§çš„ä¸€ç§äº¤å‰æ–¹å¼ï¼Œå®ƒé€šè¿‡éšæœºé€‰æ‹©ä¸€ä¸ªä½ç½®ï¼Œåœ¨çˆ¶ä»£ä¸ªä½“ä¸­äº¤æ¢åŸºå› åºåˆ—ï¼Œä»¥ç”Ÿæˆæ–°ä¸€ä»£çš„åä»£ã€‚

mutation å°±æ›´å¥½å†™äº†, å°†æŸäº› DNA ä¸­çš„ `0` å˜æˆ `1`, `1` å˜æˆ `0`.

```python
# å˜å¼‚æ“ä½œ
def mutation(offspring, mutation_rate):
    # éå†æ¯ä¸ªåä»£
    for i in range(len(offspring)):
        # éå†æ¯ä¸ªåä»£çš„åŸºå› 
        for j in range(len(offspring[i])):
            # åˆ¤æ–­æ˜¯å¦è¿›è¡Œå˜å¼‚æ“ä½œ
            if np.random.uniform(0, 1) <= mutation_rate:
                # éšæœºå°†åŸºå› è¿›è¡Œå˜å¼‚
                offspring[i][j] = 1 - offspring[i][j]
    # è¿”å›å˜å¼‚åçš„åä»£
    return offspring
```

è¯¥Pythonä»£ç å®ç°äº†é—ä¼ ç®—æ³•ä¸­çš„å˜å¼‚(mutation)æ“ä½œï¼Œç”¨äºåœ¨åä»£ä¸ªä½“ä¸­éšæœºåœ°ä¿®æ”¹ä¸€äº›åŸºå› ã€‚

å¯¹äºæ¯ä¸ªåä»£(offspring)ï¼Œä½¿ç”¨ä¸¤ä¸ªforå¾ªç¯éå†å…¶æ‰€æœ‰åŸºå› ã€‚å¯¹äºæ¯ä¸ªåŸºå› ï¼Œä½¿ç”¨numpy.random.uniformå‡½æ•°ç”Ÿæˆä¸€ä¸ªä»‹äº0å’Œ1ä¹‹é—´çš„éšæœºæ•°ï¼Œå¹¶ä¸ç»™å®šçš„å˜å¼‚ç‡(mutation\_rate)è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœéšæœºæ•°å°äºå˜å¼‚ç‡ï¼Œåˆ™å°†è¯¥åŸºå› çš„å€¼ç¿»è½¬(0å˜æˆ1, 1å˜æˆ0)ï¼Œä»¥è¿›è¡Œå˜å¼‚æ“ä½œã€‚

æœ€ç»ˆï¼Œè¯¥å‡½æ•°è¿”å›ç»è¿‡å˜å¼‚æ“ä½œåçš„æ–°ä¸€ä»£åä»£åˆ—è¡¨(offspring)ã€‚

æ€»ä¹‹ï¼Œå˜å¼‚æ“ä½œæ˜¯é—ä¼ ç®—æ³•ä¸­çš„ä¸€ä¸ªé‡è¦æ­¥éª¤ï¼Œå®ƒé€šè¿‡éšæœºé€‰æ‹©ä¸€äº›åŸºå› æ¥å¢åŠ ç§ç¾¤çš„å¤šæ ·æ€§ï¼Œä»è€Œæé«˜æ•´ä½“é€‚åº”åº¦å¹¶é˜²æ­¢é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ã€‚

## å®Œæ•´ä»£ç 

```python
import random
import math
import matplotlib.pyplot as plt
import numpy as np
import copy

population_size = 25  # ç§ç¾¤æ•°é‡
num_generations = 100  # è¿­ä»£æ¬¡æ•°
num_parents = 20  # çˆ¶ä»£æ•°é‡
num_bits = 20  # æ¯ä¸ªä¸ªä½“åŒ…å«çš„åŸºå› æ•°é‡
crossover_rate = 0.9  # äº¤å‰ç‡
mutation_rate = 0.1  # å˜å¼‚ç‡
bounds = np.array([-1, 2])  # æœç´¢ç©ºé—´è¾¹ç•Œï¼Œå³æ¯ä¸ªåŸºå› xçš„å–å€¼èŒƒå›´ä¸º[-5, 5]


# åˆå§‹åŒ–ç§ç¾¤
def generate_initial_population(population_size, num_bits):
    population = []
    for i in range(population_size):
        temporary = []
        # æŸ“è‰²ä½“æš‚å­˜å™¨
        for j in range(num_bits):
            temporary.append(random.choice([0, 1]))
            # éšæœºé€‰æ‹©ä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ˜¯0æˆ–1ï¼Œå°†å…¶æ·»åŠ åˆ°æŸ“è‰²ä½“ä¸­
        population.append(temporary)
        # å°†æŸ“è‰²ä½“æ·»åŠ åˆ°ç§ç¾¤ä¸­
    return population


# ä»äºŒè¿›åˆ¶ç¼–ç è½¬æ¢ä¸ºåè¿›åˆ¶æ•°å€¼
def binary_to_decimal(population, bounds):
    decimal_population = []  # å­˜å‚¨æ‰€æœ‰æŸ“è‰²ä½“çš„åè¿›åˆ¶æ•°å€¼
    for chromosome in population:  # éå†ç§ç¾¤ä¸­çš„æ¯ä¸ªæŸ“è‰²ä½“
        decimal = 0  # åˆå§‹åŒ–åè¿›åˆ¶æ•°å€¼
        for i, gene in enumerate(chromosome):  # éå†æŸ“è‰²ä½“ä¸­çš„æ¯ä¸ªåŸºå› 
            decimal += gene * (2 ** i)  # å°†åŸºå› çš„å€¼ä¹˜ä»¥2çš„å¹‚æ¬¡æ–¹ï¼Œæ±‚å’Œå¾—åˆ°åè¿›åˆ¶æ•°å€¼
        lower_bound, upper_bound = bounds[0], bounds[1]
        mapped_decimal = lower_bound + (decimal / ((2 ** len(chromosome)) - 1)) * (upper_bound - lower_bound)
        decimal_population.append(mapped_decimal)  # å°†æ˜ å°„åçš„åè¿›åˆ¶æ•°å€¼æ·»åŠ åˆ°åˆ—è¡¨ä¸­
    return decimal_population  # è¿”å›æ‰€æœ‰æŸ“è‰²ä½“æ˜ å°„åçš„åè¿›åˆ¶æ•°å€¼åˆ—è¡¨


'''
1.ç”¨ (decimal_value - min_bound) è®¡ç®—è¯¥å€¼åœ¨èŒƒå›´å†…çš„ä½ç½®
2.å°†è¯¥ä½ç½®é™¤ä»¥ (max_bound - min_bound)ï¼Œå¾—åˆ°ä¸€ä¸ªæ¯”ä¾‹ï¼Œè¡¨ç¤ºè¯¥ä½ç½®åœ¨èŒƒå›´å†…æ‰€å æ¯”ä¾‹
3.ä¹˜ä»¥ (2 ** num_bits - 1) å¾—åˆ°ä¸€ä¸ªæ•´æ•°èŒƒå›´å†…çš„ä½ç½®
4.ç”¨ int() å‡½æ•°å°†è¯¥ä½ç½®è½¬æ¢ä¸ºæ•´æ•°
'''


# åè¿›åˆ¶æ•°å€¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶ç¼–ç 
def decimal_to_binary(decimal_value, num_bits, bounds):
    # å°†åè¿›åˆ¶æ•°å€¼æ˜ å°„åˆ°æ•´æ•°èŒƒå›´
    min_bound, max_bound = bounds
    fixed_point_value = int((decimal_value - min_bound) / (max_bound - min_bound) * (2 ** num_bits - 1))

    # å°†æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶ç¼–ç åˆ—è¡¨
    # format() å‡½æ•°å°†æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¹¶æŒ‡å®šäº†å­—ç¬¦ä¸²çš„ä½æ•°
    binary_value = [int(bit) for bit in format(fixed_point_value, f'0{num_bits}b')]

    return binary_value


# é€‚åº”åº¦å‡½æ•°
def fitness_function(x):
    # è®¡ç®—ç›®æ ‡å‡½æ•°å€¼
    y = x * np.sin(10 * math.pi * x) + 2.0
    # è¿”å›é€‚åº”åº¦ï¼ˆå³ç›®æ ‡å‡½æ•°å€¼ï¼‰
    return y


# é€‚åº”åº¦åˆ†æ•°
def compute_fitness(decimal_population):
    fitness_values = []
    # éå†æ¯ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œè®¡ç®—é€‚åº”åº¦å€¼å¹¶æ·»åŠ åˆ°é€‚åº”åº¦å€¼åˆ—è¡¨ä¸­
    for decimal in decimal_population:
        # è°ƒç”¨é€‚åº”åº¦å‡½æ•°ï¼Œè®¡ç®—é€‚åº”åº¦å€¼
        y = fitness_function(decimal)
        # å°†é€‚åº”åº¦å€¼æ·»åŠ åˆ°é€‚åº”åº¦å€¼åˆ—è¡¨ä¸­
        fitness_values.append(y)
    # è¿”å›é€‚åº”åº¦å€¼åˆ—è¡¨
    return fitness_values


# é€‰æ‹©æ“ä½œ
def selection(population, fitness_values, num_parents):
    # ä¿ç•™é€‚åº”åº¦éè´Ÿçš„ä¸ªä½“,whereè¿”å›çš„æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„
    positive_fitness_indices = np.where(np.array(fitness_values) >= 0)[0]
    # æ ¹æ®ä¸‹æ ‡æ‰¾å‡ºä¸ªä½“å’Œä»–çš„é€‚åº”åº¦å€¼
    population = [population[i] for i in positive_fitness_indices]
    fitness_values = [fitness_values[i] for i in positive_fitness_indices]

    # è®¡ç®—é€‚åº”åº¦æ€»å’Œ
    fitness_sum = sum(fitness_values)

    # è®¡ç®—æ¯ä¸ªä¸ªä½“çš„é€‰æ‹©æ¦‚ç‡ï¼Œä¸é€‚åº”åº¦åˆ†æ•°æˆæ­£æ¯”
    probabilities = [fitness_value / fitness_sum for fitness_value in fitness_values]

    # è®¡ç®—ç´¯ç§¯æ¦‚ç‡åˆ†å¸ƒ
    cumulative_probabilities = np.cumsum(probabilities)

    # é€‰æ‹©çˆ¶ä»£ä¸ªä½“
    parents = []
    for i in range(num_parents):
        # äº§ç”Ÿä¸€ä¸ª0åˆ°1ä¹‹é—´çš„éšæœºæ•°
        rand_num = np.random.uniform(low=0, high=1.0)
        # ç¡®å®šéšæœºæ•°å‡ºç°åœ¨å“ªä¸ªä¸ªä½“çš„æ¦‚ç‡åŒºåŸŸå†…
        for j in range(len(cumulative_probabilities)):
            # å½“å‰éšæœºæ•°å°äºç­‰äºç´¯ç§¯æ¦‚ç‡åˆ—è¡¨ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œå°±é€‰æ‹©è¯¥å…ƒç´ å¯¹åº”çš„ä¸ªä½“ä½œä¸ºçˆ¶ä»£
            if rand_num <= cumulative_probabilities[j]:
                parents.append(population[j])  # ç›´æ¥è¿”å›åŸºå› 
                break

    return parents


# å•ç‚¹äº¤å‰æ“ä½œ
def single_point_crossover(parents, crossover_rate):
    offspring = []  # åˆå§‹åŒ–åä»£åˆ—è¡¨
    num_parents = len(parents)  # çˆ¶ä»£æ•°é‡
    num_bits = len(parents[0])  # æ¯ä¸ªçˆ¶ä»£çš„äºŒè¿›åˆ¶ç¼–ç ä½æ•°

    # å¯¹æ¯ä¸¤ä¸ªç›¸é‚»çš„çˆ¶ä»£è¿›è¡Œäº¤å‰æ“ä½œ
    for i in range(0, num_parents - 1, 2):
        parent1 = parents[i]  # ç¬¬ä¸€ä¸ªçˆ¶ä»£
        parent2 = parents[i + 1]  # ç¬¬äºŒä¸ªçˆ¶ä»£

        # éšæœºç”Ÿæˆäº¤å‰ç‚¹
        crossover_point = np.random.randint(1, num_bits)

        # æ ¹æ®äº¤å‰ç‡è¿›è¡Œäº¤å‰æ“ä½œ
        if np.random.random() < crossover_rate:
            # ç”Ÿæˆæ–°çš„åä»£
            offspring1 = parent1[:crossover_point] + parent2[crossover_point:]
            offspring2 = parent2[:crossover_point] + parent1[crossover_point:]
        else:
            # å¦‚æœä¸äº¤å‰ï¼Œåˆ™ç›´æ¥å°†çˆ¶ä»£ä½œä¸ºåä»£
            offspring1 = parent1
            offspring2 = parent2

        # å°†åä»£æ·»åŠ åˆ°åˆ—è¡¨ä¸­
        offspring.append(offspring1)
        offspring.append(offspring2)

    return offspring  # è¿”å›ç”Ÿæˆçš„åä»£åˆ—è¡¨


# å˜å¼‚æ“ä½œ
def mutation(offspring, mutation_rate):
    # éå†æ¯ä¸ªåä»£
    for i in range(len(offspring)):
        # éå†æ¯ä¸ªåä»£çš„åŸºå› 
        for j in range(len(offspring[i])):
            # åˆ¤æ–­æ˜¯å¦è¿›è¡Œå˜å¼‚æ“ä½œ
            if np.random.uniform(0, 1) <= mutation_rate:
                # éšæœºå°†åŸºå› è¿›è¡Œå˜å¼‚
                offspring[i][j] = 1 - offspring[i][j]
    # è¿”å›å˜å¼‚åçš„åä»£
    return offspring


if __name__ == '__main__':
    # åˆå§‹åŒ–ç§ç¾¤
    population = generate_initial_population(population_size, num_bits)
    # è¿­ä»£num_generationsè½®
    best_fitness = float('-inf')
    best_individual = None
    best_fitnesses = []
    for generation in range(num_generations):
        # äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶
        decimal_population = binary_to_decimal(population, bounds)
        # è®¡ç®—é€‚åº”åº¦åˆ†æ•°
        fitness_values = compute_fitness(decimal_population)
        # å°†å½“å‰ç§ç¾¤æ·±åº¦æ‹·è´ä¸€ä»½ç”¨äºä¸‹ä¸€ä»£æ“ä½œï¼Œé¿å…ç›´æ¥ä¿®æ”¹å½“å‰ç§ç¾¤
        next_generation = copy.deepcopy(population)
        # print('next_generation:', next_generation)
        # é€‰æ‹©çˆ¶ä»£ä¸ªä½“
        parents = selection(population, fitness_values, num_parents)
        # äº¤å‰æ“ä½œ
        offspring = single_point_crossover(parents, crossover_rate)
        # å˜å¼‚æ“ä½œ
        offspring = mutation(offspring, mutation_rate)
        # å¾—åˆ°æ–°çš„ç§ç¾¤
        population = offspring
        # print('population:', population)

        # æ‰¾åˆ°å½“å‰ä¸€ä»£ä¸­çš„æœ€å¤§é€‚åº”åº¦å€¼çš„ä¸‹æ ‡
        max_fitness_index = 0
        for i in range(1, len(fitness_values)):
            if fitness_values[i] > fitness_values[max_fitness_index]:
                max_fitness_index = i

        # è®°å½•æ¯ä¸€ä»£çš„æœ€å¥½çš„é€‚åº”åº¦å’Œä¸ªä½“
        # é€‚åº”åº¦åˆ†æ•°
        generation_best_fitness = fitness_values[max_fitness_index]
        # print('generation_best_fitness:',generation_best_fitness)
        # é€‚åº”åº¦ä¸ªä½“ï¼ˆåè¿›åˆ¶ï¼‰
        generation_best_individual = decimal_population[max_fitness_index]
        # print('generation_best_individual:', generation_best_individual)
        best_fitnesses.append(generation_best_fitness)

        # å°†æ¯ä¸€ä»£æœ€å¥½çš„é€‚åº”åº¦å’Œä¸ªä½“æ”¾å…¥åŸå§‹ç§ç¾¤
        population[0] = next_generation[max_fitness_index]

        # è¾“å‡ºæœ€ä½³ä¸ªä½“çš„äºŒè¿›åˆ¶ç¼–ç å’Œæ˜ å°„åçš„åè¿›åˆ¶å€¼
        best_individual_binary = decimal_to_binary(generation_best_individual, num_bits, bounds)
        print(
            f"Generation {generation + 1} - Best fitness: {generation_best_fitness:.6f}, Best individual - Binary: {best_individual_binary}, Decimal: {generation_best_individual:.6f}")

        # æ›´æ–°å…¨å±€æœ€ä¼˜è§£
        if generation_best_fitness > best_fitness:
            best_fitness = generation_best_fitness
            best_individual = generation_best_individual

            # å¦‚æœæ‰¾åˆ°äº†Best fitnesså¤§äº 3.85027ï¼Œå°±é€€å‡ºå¾ªç¯
            if generation_best_fitness > 3.85027:
                print(f"Solution found after {generation + 1} generations.")
                break

    # å°†æœ€ä½³ä¸ªä½“çš„åè¿›åˆ¶å€¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶ç¼–ç å¹¶è¾“å‡º
    best_individual_decimal = best_individual
    best_individual_binary = decimal_to_binary(best_individual_decimal, num_bits, bounds)

    print(
        f"\nFinal result - Best fitness: {best_fitness:.6f}, Best individual (decimal): {best_individual_decimal:.6f}, Best individual (binary): {best_individual_binary}")

    # ç»˜åˆ¶æ¯æ¬¡è¿­ä»£çš„æœ€ä½³é€‚åº”åº¦
    plt.plot(best_fitnesses, label='Best fitness per generation')
    plt.xlabel('Generation')
    plt.ylabel('Fitness')
    plt.title('Best Fitness per Generation')

    # æ ‡è®°å…¨å±€æœ€ä¼˜è§£
    best_generation = best_fitnesses.index(best_fitness)
    plt.plot(best_generation, best_fitness, 'ro', label='Global best solution')

    # æ˜¾ç¤ºå›¾ä¾‹å’Œå›¾å½¢
    plt.legend()
    plt.show()
```

## æœ€ç»ˆç»“æœ

![](image/image_x3mIOtowof.png)
